<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Onek team</title>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</link>
</h:head>
<f:metadata>
	<f:viewParam name="event" value="#{attributionjc.idEvent}" />
	<f:event type="preRenderView" listener="#{attributionjc.before}" />
</f:metadata>
<h:body>
	<!-- Insertion du menu -->

	<ui:include src="menu.xhtml" />
	<br />
	<br />


	<div class="ui-g">
		<div class="ui-g-12 ui-md-8"></div>
		<div class="ui-g-12 ui-md-4">
			<h:form>
				<p:growl id="growl" life="4000" />
				<p:commandButton value="Atribuer automatiquement" id="withIcon"
					icon="ui-icon-refresh"
					actionListener="#{attributionjc.attributionAutomatique}" />
			</h:form>
		</div>
	</div>
	<div class="ui-g">
		<h:form>
			<table>
				<thead>
					<tr>
						<th>Jurys/Candidats</th>
						<ui:repeat value="#{attributionjc.candidats.values().toArray()}"
							var="candidat">
							<th>#{candidat.nom} #{candidat.prenom}</th>
						</ui:repeat>
					</tr>
				</thead>
				<tbody>
					<ui:repeat value="#{attributionjc.jurys.entrySet().toArray()}"
						var="jury">
						<tr>
							<td>#{jury.value.nom} #{jury.value.prenom}</td>
							<ui:repeat value="#{attributionjc.candidats.keySet().toArray()}"
								var="candidat">
								<td align="center"><p:selectBooleanCheckbox
										value="#{attributionjc.attribJC[jury.key][candidat]}" /></td>
							</ui:repeat>
						</tr>
					</ui:repeat>
				</tbody>
			</table>
			<br />
			<br />
			<p:commandButton value="PrÃ©visualisation des attributions"
				actionListener="#{attributionjc.previsualitionButton}" ajax="false" />
				
			#{attributionjc.message}
		</h:form>
	</div>
</h:body>
</html>
