<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>ONEK' - Ajouter des critères</title>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</link>
</h:head>
<h:body>
	<!-- Insertion du menu -->
	<ui:include src="#{accueil.typeMenu}" />
	<ui:include src="menuGauche.xhtml" style="height: 100%;" />
	<br />
	<div class="ui-g page-wrap">
		<div class="ui-g-2"></div>
		<div class="ui-g-9">
			<h:form id="addcritere"
				rendered="#{not eventAccueil.disabledSiBrouillon}">
				<div>
					<p:outputPanel>
						<p:panel header="Ajouter un critère">
							<h:panelGrid id="grid" columns="4" cellpadding="5" layout="grid">								
								<p:outputLabel for="nom" value="Nom :" style="font-weight:bold" />						
								<p:inputText id="nom" value="#{grille.nom}" required="true" />

								<h:panelGroup>
									<p:outputLabel id="labelcoef" for="coef" value="Coefficient :"
										style="font-weight:bold" />
									<p:tooltip for="labelcoef" value="texte coef" position="top" />
								</h:panelGroup>
								<p:inputNumber id="coef" value="#{grille.coefficient}"
									minValue="0" decimalPlaces="2" required="true" />

								<h:panelGroup>
									<p:outputLabel id="labelcat" for="categorie"
										value="Catégorie :" style="font-weight:bold" />
									<p:tooltip for="labelcat" value="texte coef" position="top" />
								</h:panelGroup>
								<p:inputText id="categorie" value="#{grille.categorie}" />

								<h:panelGroup>
									<h:outputLabel id="labelniv" value="Nombre de niveaux :"
										style="font-weight:bold" />
									<p:tooltip for="labelniv" value="texte niv" position="top" />
								</h:panelGroup>
								<p:selectOneMenu id="nbNiveau" value="#{grille.nbDescripteur}"
									style="width:125px">
									<f:selectItems value="#{grille.numbers}" />
									<p:ajax update="toUpdate" />
								</p:selectOneMenu>
							</h:panelGrid>
						</p:panel>
					</p:outputPanel>
					<br />
					<div class="ui-g">
						<p:outputPanel id="toUpdate">
							<div class="ui-g-12 ui-md-6 ui-lg-4">
								<p:panel header="A" style="width:300px; height:250px;">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids1" for="poids1" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids1" value="#{grille.poids1}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids1" value="toto1" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte1}" label="Description" />
										<h:outputText id="display" />
										<!--  <p:inputText value="#{grille.texte1}" label="Description" /> -->
									</h:panelGrid>
								</p:panel>
							</div>
							<div class="ui-g-12 ui-md-6 ui-lg-4">
								<p:panel header="B" style="width:300px; height:250px;">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids2" for="poids2" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids2" value="#{grille.poids2}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids2" value="toto2" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display2" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte2}" label="Description" />
										<h:outputText id="display2" />
									</h:panelGrid>
								</p:panel>
							</div>
							<div class="ui-g-12 ui-lg-4">
								<p:panel header="C" style="width:300px; height:250px;"
									rendered="#{grille.nbDescripteur > 2}">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids3" for="poids3" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids3" value="#{grille.poids3}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids3" value="toto3" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display3" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte3}" label="Description" />
										<h:outputText id="display3" />
									</h:panelGrid>
								</p:panel>
							</div>
							<div class="ui-g-12 ui-md-6 ui-lg-4">
								<p:panel header="D" style="width:300px; height:250px;"
									rendered="#{grille.nbDescripteur > 3}">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids4" for="poids4" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids4" value="#{grille.poids4}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids4" value="toto4" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display4" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte4}" label="Description" />
										<h:outputText id="display4" />
									</h:panelGrid>
								</p:panel>
							</div>
							<div class="ui-g-12 ui-md-6 ui-lg-4">
								<p:panel header="E" style="width:300px; height:250px;"
									rendered="#{grille.nbDescripteur > 4}">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids5" for="poids5" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids5" value="#{grille.poids5}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids5" value="toto5" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display5" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte5}" label="Description" />
										<h:outputText id="display5" />
									</h:panelGrid>
								</p:panel>
							</div>
							<div class="ui-g-12 ui-lg-4">
								<p:panel header="F" style="width:300px; height:250px;"
									rendered="#{grille.nbDescripteur > 5}">
									<h:panelGrid columns="1" cellpadding="3">
										<p:outputLabel id="labelpoids6" for="poids6" value="Poids :"
											style="font-weight:bold" />
										<p:inputNumber id="poids6" value="#{grille.poids6}"
											decimalPlaces="0" label="Poids" required="true" />
										<p:tooltip for="labelpoids6" value="toto6" position="top" />

										<h:outputLabel value="Description :" style="font-weight:bold" />
										<p:inputTextarea counter="display6" maxlength="500"
											counterTemplate="{0} caractères restants." autoResize="false"
											value="#{grille.texte6}" label="Description" />
										<h:outputText id="display6" />
									</h:panelGrid>
								</p:panel>
							</div>
						</p:outputPanel>
					</div>
					<div>
						<p:commandButton value="Ajouter" action="#{grille.onClicAdd}"
							icon="ui-icon-check" rendered="#{not grille.modification}"
							update="addcritere" />
						<p:commandButton value="Enregistrer les modifications"
							action="#{grille.onClicAdd}" icon="ui-icon-check"
							rendered="#{grille.modification}" update="addcritere" />
					</div>
					<br />
				</div>
			</h:form>
			<h:form>
				<div>
					<p:commandButton value="Retour aux critères"
						action="#{grille.onClicReturn}" update="displayCriteres"
						icon="ui-icon-arrowthick-1-w" ajax="false" />
				</div>
			</h:form>
		</div>
	</div>
	<br />
	<br />
	<br />
	<!-- Insertion du footer -->
	<ui:include src="footer.xhtml" />
</h:body>
</html>